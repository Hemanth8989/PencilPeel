<!-- If routed as /contact (page mode) -->
<section *ngIf="isPageMode" class="bg-gray-100 min-h-screen py-12">
  <div class="max-w-4xl mx-auto bg-white shadow-lg rounded-lg p-8">
    <h2 class="text-2xl font-semibold text-gray-800 mb-6 text-center">
      Let’s Elevate Your Brand with Pencil Peel IMT
    </h2>

    <!-- YouTube Videos Carousel -->
    <div class="mb-10">
      <h3 class="text-xl font-semibold text-gray-800 mb-4 text-center">Watch Our Videos</h3>
      <p-carousel 
  [value]="youtubeVideos" 
  [numVisible]="1" 
  [numScroll]="1" 
  [circular]="true"
  [autoplayInterval]="0"
  class="w-full"
>
  <ng-template pTemplate="item" let-video>
    <div class="w-full h-96 md:h-[500px]">
      <iframe 
        [src]="getSafeUrl(video)" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen
        class="w-full h-full rounded-lg shadow-md"
      ></iframe>
    </div>
  </ng-template>
</p-carousel>

    </div>

    <!-- Reusable Form -->
    <ng-container *ngTemplateOutlet="formTemplate"></ng-container>
  </div>
</section>

<!-- If used as dialog -->
<p-dialog *ngIf="!isPageMode" [(visible)]="visible" (onHide)="closeDialog()" [modal]="true" [style]="{ width: '650px' }"
  [dismissableMask]="true">
  <ng-container *ngTemplateOutlet="formTemplate"></ng-container>
</p-dialog>

<!-- Reusable Form Template -->
<ng-template #formTemplate>
  <form (ngSubmit)="submitForm()" class="space-y-5">
    <div class="grid md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Full Name</label>
        <input pInputText [(ngModel)]="form.name" name="name" required class="w-full" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700">Designation</label>
        <input pInputText [(ngModel)]="form.designation" name="designation" class="w-full" />
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Location</label>
        <input pInputText [(ngModel)]="form.location" name="location" class="w-full" />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" pInputText [(ngModel)]="form.email" name="email" required class="w-full" />
      </div>
    </div>

    <div class="grid md:grid-cols-2 gap-4">
      <div>
        <label class="block text-sm font-medium text-gray-700">Phone Number</label>
        <input pInputText [(ngModel)]="form.phone" name="phone" required class="w-full" />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700">Company Name</label>
        <input pInputText [(ngModel)]="form.company" name="company" class="w-full" />
      </div>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Website (Optional)</label>
      <input pInputText [(ngModel)]="form.website" name="website" placeholder="https://yourwebsite.com"
        class="w-full" />
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Select a Service</label>
      <p-select [options]="services" [(ngModel)]="form.service" name="service" placeholder="Select a Service"
        class="w-full"></p-select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Where Did You Find Us?</label>
      <p-select [options]="sources" [(ngModel)]="form.source" name="source" placeholder="Select Source"
        class="w-full"></p-select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700">Tell Us About Your Project</label>
      <textarea [(ngModel)]="form.project" name="project" rows="4" pTextarea class="w-full"></textarea>
    </div>

    <div class="flex items-center space-x-2">
      <p-checkbox [(ngModel)]="form.notRobot" name="notRobot" binary="true"></p-checkbox>
      <label>I’m not a robot</label>
    </div>

    <div class="text-center">
      <button pButton type="submit" label="Submit Message" class="bg-blue-600 text-white px-6 py-2 rounded-md"></button>
    </div>
  </form>

  <p class="text-center text-gray-600 mt-6">
    Our team will get back to you soon.<br />
    Reach us on <span class="text-blue-500 font-semibold">WhatsApp & Arattai: +91 8106929326</span>
  </p>
</ng-template>